alias gce='gcloud compute'
alias gce-machines='gcloud compute machine-types list'

gcp_project() {
    local project=$1
    if [ -z "$project" ]; then
        gcloud config get-value project
    else
        gcloud config set project "$project"
    fi
}

gcp_create_keys() {
    local email="$1"
    local creds="./$1-credentials.json"
    if [ -z "$email" ]; then
        echo "service account email required"
    else
        gcloud iam service-accounts keys create $creds \
            --iam-account $email
        echo "credentials saved to $creds_file"
    fi
}

gcr_images() {
    if [ -n "$1" ]; then
        gcloud container images list --repository gcr.io/$1
    else
        echo "repository not specified"
    fi
}

gcr_tags() {
    if [ -n "$1" ]; then
        gcloud container images list-tags gcr.io/$1
    else
        echo "project image not specified"
    fi
}

alias gke='gcloud container'
alias gke_creds='gcloud container clusters get-credentials'

gke_clusters() {
    local zone=$1
    if [ -z "$zone" ]; then 
        echo "error: no zone specified"
    else
        gcloud container clusters list --zone=$zone
    fi
}

gke_pools() {
    local zone=$1
    local cluster=$2
    if [ $# -ne 2 ]; then
        echo "error: zone and cluster name not specified"
    else
        gcloud container node-pools list --zone $zone --cluster $cluster
    fi
}

gke_set_cluster() {
    local cluster=$1
    if [ -z "$cluster" ]; then
        echo "error: no cluster specified"
    else
        gcloud container clusters get-credentials $cluster
    fi
}
